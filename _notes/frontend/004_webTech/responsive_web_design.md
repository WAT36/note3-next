---
title: "レスポンシブWebデザイン"
date: "2023-03-21T14:26:21.000Z"
excerpt: "レスポンシブWebデザインについて"
tag: ["Web", "HTML", "CSS"]
updatedAt: "2023-03-21T14:26:21.000Z"
author:
  name: Tatsuroh Wakasugi
  picture: "/assets/blog/authors/WAT.jpg"
link:
  css: ["/assets/note/frontend/web_other/mediaquery.css"]
---

# レスポンシブ Web デザイン

レスポンシブ Web デザインについて。

レスポンシブ Web デザインとは、1 つの HTML を画面幅などの特性が異なったデバイスに応じて、自動的にレイアウトやデザインを変更しそれぞれに対応させるといった Web サイトの開発手法の一つである。

現代では様々なタイプの PC に加え、スマートフォンやタブレットのような機器までもが登場し、またその種類も多様化してきている。

また、その度に各機器用の HTML を作成していると、開発や運用も大変になる。

そのため、なるべく多くの機器に少ない HTML ファイルで対応できるように、このような開発手法が登場した。

このような方法を実装するには、各機器用の CSS を用意し、必要に応じて切り替えて利用する方法(CSS メディアクエリ)が使われる。

## メリットとデメリット

レスポンシブ Web デザインのメリットとデメリットにはどのようなものがあるだろうか。

まず、メリットとしては

- 作る HTML は 1 つで済み、開発運用コストが削減できる
- 画面サイズさえ合えば、現在存在しない機器にも対応可能
- HTML は 1 つなので、特定デバイス向けのサイトは作らずに済む。またそのようなサイトがある場合と比べ、リダイレクトの時間を削減できる。

デメリットとしては

- 1 つの HTML を複数の CSS で使い回すような構造は逆に困難・高コストになる場合もある
- HTML/CSS の容量が大きくなる時もあり、場合によってはページ表示や動作が遅くなることもある
- 画面遷移の変更には対応できない

のようなものがある。

# レスポンシブ Web デザインで用いる技術

レスポンシブ Web デザインに必要な技術についてを述べる。

## メディアクエリ

メディアクエリとは CSS の仕様の 1 つで、機器の特性に応じて CSS を切り替える方式である。レスポンシブ Web デザインのキーとなる技術である。

設定方法は 2 つあり、1 つは HTML の link 要素で CSS ファイルを読み込む際に、**media 属性**を利用する方法である。

例

```html
<link rel="stylesheet" media="screen and (max-width:500px)" href="style.css" />
```

この例は、幅が 500px 以内の画面に対し、指定した CSS を適用する、と言う意味になる。（具体的な属性名などの意味は後述）

もう 1 つは、CSS に@**media**識別子を利用して条件を記述する方法である。

例

```css
@media screen and (max-width: 500px) {
}
```

これらの設定方法において、設定する値は**メディア型**と呼ばれる対象とするメディアを示す値、そして**メディア特性**と呼ばれる幅や高さといった情報を示す値である。値は空白区切りで複数設定できる。

メディア型の値は以下の通り。

| 値         | 意味                          |
| :--------- | :---------------------------- |
| all        | 全ての機器                    |
| screen     | PC やスマートフォンなどの画面 |
| print      | プリンタ                      |
| projection | プロジェクタ                  |
| tv         | テレビ                        |
| handheld   | 携帯用機器                    |
| tty        | 文字幅が固定の端末            |
| speech     | スピーチ・シンセサイザー      |
| braille    | 点字ディスプレイ              |

メディア特性の値は以下の通り。

| 値                                                                        | 意味                                                         |
| :------------------------------------------------------------------------ | :----------------------------------------------------------- |
| width<br>min-width<br>max-width                                           | 画面の幅(の最小/最大値)                                      |
| height<br>min-height<br>max-height                                        | 画面の高さ(の最小/最大値)                                    |
| device-width<br>device-min-width<br>device-max-width                      | デバイスの幅(の最小/最大値)                                  |
| device-height<br>device-min-height<br>device-max-height                   | デバイスの高さ(の最小/最大値)                                |
| aspect-ratio<br>min-aspect-ratio<br>max-aspect-ratio                      | 画面のアスペクト比(の最小/最大値)。水平/垂直の整数で指定     |
| device-aspect-ratio<br>min-device-aspect-ratio<br>max-device-aspect-ratio | デバイスのアスペクト比(の最小/最大値)。水平/垂直の整数で指定 |
| grid                                                                      | グリッド(1)かそれ以外(0)の画面であるか                       |
| resolution<br>min-resolution<br>max-resolution                            | デバイスの解像度(の最小/最大値)                              |

使用例(css)

```css
@media screen and (min-width: 0px) {
  p.mediaquery {
    color: greenyellow;
  }
}

@media screen and (min-width: 300px) {
  p.mediaquery {
    color: red;
  }
}

@media screen and (min-width: 600px) {
  p.mediaquery {
    color: blue;
  }
}
```

(html)

```html
<p class="mediaquery">メディアクエリのテスト</p>

<p class="mediaquery">
  幅0px以上で緑、幅300px以上で赤、幅600px以上で青になるはず。
</p>

<p class="mediaquery">ブラウザの幅を変えると色が変化します</p>
```

表示例

<p class="mediaquery">メディアクエリのテスト</p>

<p class="mediaquery">幅0px以上で緑、幅300px以上で赤、幅600px以上で青になるはず。</p>

<p class="mediaquery">ブラウザの幅を変えると色が変化します</p>

---

## 可変グリッド

可変グリッドとは、グリッドの幅がウィンドウ幅に応じて変化するシステムである。

グリッドとは、基準となるラインを設定し、そのラインに沿って画像やテキストを配置する方式である。

グリッドのラインがコンテンツを配置する基準となっているので、見やすいデザインを作ることができる。

実装するには、グリッド幅に関しては CSS で幅を%などの相対値で指定することによって実現させる。

または、Javascript などのライブラリやフレームワークを使って CSS を動的に変更させて実装する方法もある。

## 可変イメージ

可変イメージとは、画像をウィンドウ幅に応じて変更していく手法である。

可変イメージは、img 要素の「max-width」属性を 100%とすれば実現可能となる。

使用例

```html
<img src="/assets/note/frontend/html/img/img.jpg" style="max-width: 100%" />
```

表示例（ブラウザの幅を変えるとサイズが変化します）

<img src="/assets/note/frontend/html/img/img.jpg" style="max-width: 100%">

## ビューポート

ビューポートとは、ブラウザの表示領域のことである。Web ブラウザでサイトを閲覧する時は、ビューポートのサイズをもとにコンテンツが表示される。

ビューポートの幅や高さは、スマートフォンなどのデバイスのそれとは異なることが多い。そのため、デバイスによっては、サイトを表示するとコンテンツが小さく表示される場合があるので、注意が必要である。

ビューポートに関する指定は、HTML の meta 要素で行う。name 属性に**viewport**を指定し、content 属性にそれぞれ値を指定する。

指定できるプロパティと意味は以下の通り。

| 値            | 意味               |
| :------------ | :----------------- |
| width         | ビューポートの幅   |
| height        | ビューポートの高さ |
| initial-scale | 表示倍率の初期値   |
| minimum-scale | 表示倍率の最小値   |
| maximum-scale | 表示位置の最大値   |

## リセット CSS

各 Web ブラウザには、デフォルトで CSS が設定されており、開発者側で CSS を設定しなくても Web ブラウザが設定している CSS により、サイトのコンテンツの表示が変わることがある。

しかし、この Web ブラウザが設定している CSS を考慮しないまま開発者側で CSS を作っていくと、あるブラウザではうまく表示されても別のブラウザでは表示されなくなる、と言うような事態が起きる場合もある。

そのため、このブラウザによる CSS を打ち消し、ブラウザ間の表示を揃えるための CSS をまずは適用させる。このような CSS を**リセット CSS**と言う。

リセット CSS はオープンソースとして公開されているものがいくつかあり、それを利用する場合が多い。
