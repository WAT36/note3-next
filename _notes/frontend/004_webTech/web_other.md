---
title: "その他のWeb関連技術"
date: "2023-03-25T00:58:39.000Z"
excerpt: "その他のWeb関連技術について"
tag: ["Web", "HTML", "CSS"]
updatedAt: "2023-03-25T00:58:39.000Z"
author:
  name: Tatsuroh Wakasugi
  picture: "/assets/blog/authors/WAT.jpg"
---

ここまでで述べられてない Web 関連技術についてを述べる。

なお、ここでは具体例はあまり載せられていません。悪しからず。

# 文書

## XHTML

XHTML とは、HTML を XML の文法で定義し直して書かれた文書である。

HTML との相違点は以下の通り。

- 文書の先頭に XML 宣言文が必要
- 文字の大文字・小文字が区別される
- 要素は必ず開始タグと終了タグで囲まれてないといけない

## マイクロデータ

マイクロデータとは、文書の意味や属性を示すデータを、メタデータとして文書に埋め込ませたものである。

マイクロデータを利用することで、検索エンジンなどのプログラムに Web ページの詳しい情報を伝えることができる。

マイクロデータで、以下の 3 つの属性を使用して表現する。

- itemscope ・・・ 意味付けブロックの開始の宣言
- itemtype ・・・ データの種別(URL)
- itemprop ・・・ データのプロパティ名

## RDFa (Resource Description Framework in Attributes)

RDFa とは、RDF によるメタデータを XHTML で書かれた構造活文書に埋め込むための仕様である。

その前に RDF とは何か？についてだが、RDF はメタデータを表記するためのデータ形式の一つである。

(RDF の記載例は略)

一見マイクロデータと用途は同じに見えるが、RDFa は RDF(XML 由来)を元にしているため、XML 文書でも利用できるという特徴がある。

## OGP (Open Graph Protocol)

OGP は、Web ページの内容を示した情報を、プログラムから読める形で Web ページに付加しておくための仕様である。

活用例としては SNS がある。OGP に対応したページにある「いいね!」ボタンなどをクリックすると、その情報が自分の SNS のページに記載されたり、または他のリコメンデーションなど、様々な機能に活用される。

# データ操作

## JavaScript

JavaScript というオブジェクト指向プログラミング言語があり、この言語で実装したスクリプトを、HTML 文書に組み込んで使用することができる。

HTML から Javascript を利用するには、script 要素を利用して HTML 文書に直接書く方法（下例）と、

```html
<script type="text/javascript">
  //Javascriptのコードを記述する
</script>
```

同じく script 要素の src 属性に Javascript のファイルを指定する方法（下例）がある。

```html
<script type="text/javascript" src="test.js"></script>
```

## DOM(Document Object Model)

DOM とは HTML,XML 文書に JavaScript 等のプログラムからアクセスするための API である。

JavaScript を用いて DOM を利用する事で、文書を取得したり操作することが可能になる。

## Ajax(Asynchronous Javascript + XML)

Ajax とは、ブラウザ内で非同期通信や動的ページ置き換え等を行う技術である。

Ajax は Javascript のクラスである XMLHttpRequest を利用して実現する。それを行なって通信結果を Javascript で CSS で動的に Web ページに反映する。非同期通信により、ユーザーがフォームなどに入力をしていてもバックグラウンドでデータを取得することが可能になる。

Ajax で転送されるデータとしては JSON がよく用いられる。

# 通信

## セッション

セッションとは、ユーザーがログインからログオフするまでの一連の通信のことである。

HTTP は状態を持たないステートレスなプロトコルであるため、ユーザーがあるサイトに今ログインしている状態なのかを判別する仕組みがない。そのため、画面操作をしているユーザーのログイン状態を判別する仕組みとしてこのセッションが設けられている。

セッションは、Cookie などといった技術を用いて実現する。１度目のアクセスで Web サーバからブラウザに Cookie が送信され、ブラウザは URL とその Cookie を紐づけて管理し、次のアクセスではその Cookie を送信する。

Web サーバはその受け取った Cookie を確認し、前回アクセスのあったユーザーと認識できれば、前回のアクセスの続きとして情報を送信する。

## データ URI

データ URI とは、画像などのデータを Base64 を用いて暗号化し、HTML や CSS に直接埋め込んだ際の URI の事である。

暗号化するので本来よりも容量が大きくなることがあるが、HTML に埋め込まれるため、Web サーバへのリクエスト回数を減らすことが可能になる。

# Web サイトへの攻撃手法

## SQL インジェクション

SQL インジェクションとは、入力フォームなどに SQL 文を構成する値を入力させることで、アプリケーションに本来意図しないような SQL を実行させ、データベースを不正に操作する攻撃手法のことである。

アプリケーションが使っている SQL 文を推測する必要があるが、攻撃が成功してしまうとデータの改竄や消去、情報漏洩が発生する恐れがある。

対策としては、以下のような方法がある。

- 入力値で特殊文字を受け付けないなどする
- (開発言語により有無あるが)Prepared statement(事前にコンパイル可能な SQL 文)を利用する

## クロスサイトスクリプティング(XSS)

クロスサイトスクリプティングとは、ユーザが悪意のあるスクリプトを生成する Web サイトを閲覧したときに、そのサイトからユーザのブラウザにスクリプトが埋め込ませ、及びその状態で攻撃対象サイトに強制的に遷移させることで、ユーザやサーバに被害を与える攻撃手法である。

スクリプトが埋め込まれた状態で他の攻撃対象サイトに遷移させると、そのサイト上でスクリプトが実行され、個人情報取得やなりすましなどの攻撃をされる恐れが有る。

ブラウザ側で Javascript を無効にすれば防げるが、Javascript を利用するサイトが閲覧できなくなるためお勧めではない。

閲覧者側としてはブラウザのアップデートやセキュリティソフトの導入、サイト管理者側としては入力値のチェックなど、XSS に対応したアプリケーションを構築する必要がある。

## クロスサイトリクエストフォージェリ(CSRF)

クロスサイトリクエストフォージェリとは、ユーザがある Web アプリケーションにログインしている(セッションを確立)時に、外部の攻撃者がそのユーザになりすまして、用意した HTTP リクエストを送信することで、ユーザの意図しない動作を行わせる攻撃手法である。

ユーザが Web アプリケーションにログインしている時に、外部の攻撃者が用意したサイトを閲覧すると、悪意のあるスクリプトを実行させることでセッションのデータ(Cookie など)を盗み見られてしまう。それを利用して HTTP リクエストを作成し、Web アプリケーションに送ってしまうと、外部の攻撃者がそのユーザの状態でいろいろな操作を行えてしまう。

対策としては Web アプリケーション側で HTTP リクエストを詳しく確認させたり、またはその他の照合情報などを利用してユーザのチェックを行うなどがある。

## ディレクトリトラバーサル

ディレクトリトラバーサルとは、URL 等のパラメータで示されているファイルから`../`といったような親ディレクトリを示す文字列等を追加することで、本来 Web 利用者がアクセスできないようなファイルにアクセスしようとする攻撃手法である。

対策としては、ファイルのパーミッション(アクセス権)を適切に設定し、他ユーザがアクセスできないようにする等ある。

## HTTP ヘッダインジェクション

Web サイトには、ユーザへの HTTP レスポンスを生成する時に、その HTTP ヘッダの値を外部から入力されたパラメータを利用して生成する物が存在する。

そこに外部の攻撃者が任意の値を設定させることで、ユーザにレスポンスを送り意図しないような動作を行わせる攻撃手法のことを、HTTP ヘッダインジェクションという。

例えば、HTTP レスポンスの Location ヘッダは URL を設定するが、この URL に"Set-Cookie:.."を付け足して設定すると、ユーザーに不正な Cookie までも送ってしまう。このように、HTTP ヘッダを任意に設定することでユーザーに悪影響を及ぼす場合がある。

対策としては、HTTP ヘッダを出力する API を使って HTTP ヘッダを作り出すなど行う。

# ネットワーク上の脅威対策

## 統合脅威管理(Unified Threat Management: UTM)

統合脅威管理とは、ネットワークを複数の脅威から統合的に保護すること、及びそれを実現するための製品、システムのことである。

セキュリティに関するシステムといえばファイアウォール、アンチウイルス、VPN、フィルタリングなど色々あるが、それらを統合して 1 つのシステムとした物が統合脅威管理として挙げられる。

## 侵入検知システム(Intrusion Detection System:IDS)

侵入検知システムとは、ネットワークからの不正アクセスを検知するシステムのことである。

種類としてはネットワークの通信内容を検査するネットワーク型 IDS と、サーバに異常がないかを監視するホスト型 IDS がある。

# Web サイト、アプリケーションの構築手法

## MVC アーキテクチャ

様々なプログラムに応用できる汎用的な設計パターンのことをデザインパターンという。

MVC アーキテクチャとは、Web アプリケーションにおけるデザインパターンの 1 つであり、ソフトウェアを以下の 3 つに分けて設計する手法を指す。

|                          |                              |
| :----------------------- | :--------------------------- |
| モデル(Model)            | 業務処理など主要な処理を行う |
| ビュー(View)             | 画面などの表示処理を行う     |
| コントローラ(Controller) | モデルとビューの橋渡しを行う |

イメージとしては、ビューがユーザーから入力を受け取り、処理依頼をコントローラに送る。その後、コントローラはモデルに処理を要求し、モデルはその処理を受け取って外部の DB 塔を使い処理を完了させる。モデルは処理を完了すると、コントローラに通知する。通知を受け取ったコントローラは、処理結果をビューに送り出力させる、という流れで処理が行われる。

## CMS(Content Management System)

CMS とは、Web ページをなすテキストや画像ファイルといったコンテンツを一元的に管理し、Web ページの作成や更新が可能なソフトウェアの事である。

HTML や CSS の知識がなくとも、コンテンツを用意すれば CMS が Web ページをビルドしてくれる。例としては、ブログサービスの WordPress、また Wiki などがある。

# 画像ファイル

## 画像ファイルの種類

画像ファイルの種類はいくつかある。以下にその一部を記載する。

|      |                                                                                                                                                                                |
| :--- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| BMP  | フルカラーに対応した Windows の標準画像フォーマット。一般的に圧縮されないことが多くファイルサイズが大きくなるため、Web サイトでの使用は不適切。                                |
| GIF  | 256 色まで対応する可逆圧縮の画像フォーマット。画質の劣化がないため、単純なイラストに向いている。アニメーションも作成できる。                                                   |
| PNG  | フルカラーに対応した可逆圧縮の画像フォーマット。GIF の代替として登場した。圧縮率は GIF よりは良いが JPEG には劣る。                                                            |
| JPEG | フルカラーに対応した非可逆圧縮の画像フォーマット。ファイルサイズはより小さくできるが、非可逆圧縮のため画質はもとより低下する。多少の画質劣化が問題にならない写真に向いている。 |
| SVG  | XML で記述するベクターデータのフォーマット。拡大縮小しても画像が劣化しない。Javascript による制御も行える。                                                                    |

## インターレース

インターレースとは画像の表示形式の一つで、画像データの受信中に粗い解像度の画像を表示し、データを受信するに従って徐々に高解像度の画像を表示するという手法である。

インターレースは GIF,PNG で使える。JPEG ではインターレースに似た「プログレッシブ JPEG」を設定することができる。

# Web サイトの集客と収益

Web サイトの集客・収益に用いられる手法についてを述べる。

## SEO(Search Engine Optimization)

SEO とは、検索エンジン最適化(Search Engine Optimization)の事であり、検索エンジンで検索した時に自分の Web サイトがなるべく上位に来るように工夫する事をいう。

簡単な方法としては適切なページタイトルを設定したり、マイクロデータや RDFa を設定するなどといった物がある。SEO を専門に行う業者も存在する。

## 検索ロボット

検索ロボットとは、検索エンジンのデータベースを作成するために、全世界の Web ページをダウンロードするプログラムである。

検索ロボットにとって分かりやすい記述をすると、SEO が行えやすい。逆に検索エンジンにヒットさせたくないときは、Basic 認証や、robots.txt ファイル(サイトをクロールされないように制御するファイル)を設定する。

## Web 広告

Web 広告として、代表的なものは以下の通り。

|:---|:---|
|ペイパークリック広告(PPC)|広告をクリックした回数に応じて課金される。|
|アドワーズ広告|検索エンジンの検索結果に連動して表示される PPC 広告。|
|アフィリエイト広告|成果報酬型のインターネット広告で、広告のクリック数、またその広告をもとに売上に繋がったなどの結果に応じて広告料が支払われる。|

## コンバージョンレート

コンバージョンレートとは、Web サイトへのアクセス数やユーザー数のうち、収益に結びついた割合のことである。

ここでいう収益とは、商品購入や会員登録などのことを指す。（定義は Web サイトによって異なる）

## ROI

ROI は投資利益率(Return On Inversion)の事で、投資した資本に対して得られる利益の割合のことである。
